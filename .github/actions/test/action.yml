name: test
description: 'Test CrossModel'

runs: # windows-2019 # is needed because the Setup Python task does not work with ubuntu
  using: 'composite'
  steps:
    - name: Yarn test
      shell: bash
      run: yarn test
      env:
        # The test result file name can be controlled using the following environment variable.
        JEST_JUNIT_OUTPUT_NAME: test-results-${{ runner.os }}.xml

    # Upload Test Results (The different files for the OSes will end up in the same artifact).
    - name: Upload Test Results
      if: always()
      uses: actions/upload-artifact@v3
      with:
        name: unit-test-tesults
        path: **/test-results/*.xml
